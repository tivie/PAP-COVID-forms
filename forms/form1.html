<!--
  ~     PARC-COVID: Plataforma Automática de Rastreio de Contactos
  ~     Copyright (C) 2020 - 2020 Estêvão Soares dos Santos
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU Affero General Public License as published
  ~     by the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     You are forbidden, however, to remove ANY COPYRIGHT NOTICE FROM BOTH THE
  ~     LICENSE FILE OR SOURCE CODE, either visible or invisible to the public.
  ~     
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU Affero General Public License for more details.
  ~
  ~     You should have received a copy of the GNU Affero General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Formulário do Utente Caso Positivo</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="../css/common.css">

    <link rel="stylesheet" href="../css/form1.css">
</head>

<body>

<div class="container">
    <h1>Formulário para Caso Positivo</h1>

    <div>No seguimento da conversa telefónica, agradecemos o preenchimento cuidado deste formulário com os seus dados
        e das pessoas com quem contactou.<br>
        O seu apoio é fundamental para que possamos proteger a sua saúde e a dos seus.<br>
        Os campos assinalados com * são de preenchimento obrigatório. É importante que a informação fornecida seja
        verdadeira e o mais completa possível.<br>
        Se tiver alguma dúvida, por favor contacte-nos por email <span class="mmm"></span>.  Muito obrigado!
    </div>

    <div id="formulario-wrapper">
        <form id="formulario-caso-positivo" class="needs-validation">

            <fieldset id="dados-pessoais-fieldset">

                <legend>Dados Pessoais</legend>

                <div class="form-group required">
                    <label for="nome_utente">Nome:</label>
                    <input name="nome_utente" id="nome_utente" type="text" class="form-control" required>
                    <small id="nomeHelp" class="form-text text-muted">Texto de ajuda sobre o nome</small>
                </div>

                <div class="form-group required">
                    <label for="num_utente">Número de utente (SNS):</label>
                    <input name="num_utente" id="num_utente" type="number" pattern="\d{9}" min="100000000"
                           max="999999999"
                           class="form-control" required>
                    <small id="num_utenteHelp" class="form-text text-muted">Número de utente do SNS. Número composto
                        por 9 dígitos que está no verso do Cartão de Cidadão.</small>
                </div>

                <div class="form-group required">
                    <label for="data_nascimento">Data de Nascimento:</label>
                    <input name="data_nascimento" id="data_nascimento" type="date" class="form-control" required>
                </div>

                <div class="form-group required">
                    <label for="cartao_cidadao">Número do Cartão de Cidadão / Título de Residência / Passaporte:</label>
                    <input name="cartao_cidadao" id="cartao_cidadao" class="form-control" required>
                    <small id="ccHelp" class="form-text text-muted">Número do Cartão de Cidadão, Passaporte ou título
                        de residência. Se não possuir nenhum destes documentos identificativos, escreva 1.</small>
                </div>

                <div class="form-group required">
                    <label for="data_validade_cc">Data de Validade do CC:</label>
                    <input name="data_validade_cc" id="data_validade_cc" type="date" class="form-control" required>
                    <small id="data_validade_ccHelp" class="form-text text-muted">Data de validade do BI ou Cartão de Cidadão ou do outro documento identificativo</small>
                </div>

                <div class="form-group required">
                    <label for="niss">Número de identificação da Segurança Social:</label>
                    <input name="niss" id="niss" type="number" class="form-control">
                    <small id="nissHelp" class="form-text text-muted">Número de identificação da Segurança
                        Social</small>
                </div>

                <div class="form-group">
                    <span class="required-here">Sexo:</span>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="sexo" id="sexo-masculino" value="masculino">
                        <label class="form-check-label" for="sexo-masculino">Masculino</label>
                    </div>

                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="sexo" id="sexo-feminino" value="feminino">
                        <label class="form-check-label" for="sexo-feminino">Feminino</label>
                    </div>
                </div>

            </fieldset>

            <fieldset id="morada-fieldset">

                <legend>Morada de Isolamento</legend>

                <div class="form-group required">
                    <label for="morada">Morada:</label>
                    <textarea name="morada" id="morada" class="form-control" required></textarea>
                    <small id="localidadeHelp" class="form-text text-muted">Morada <b>onde se encontra a fazer o
                        isolamento</b>,
                        e não a morada oficial/fiscal</small>
                </div>
                
                <div class="form-group form-inline">
                    <label class="required-here" for="cpostal4">Código-postal:</label>
                    <input name="cpostal4" id="cpostal4" type="text" class="form-control" pattern="[0-9]{4}" required>
                    <label for="cpostal3" class="no-required">&nbsp;-&nbsp;</label>
                    <input name="cpostal3" id="cpostal3" type="text" class="form-control" pattern="[0-9]{3}" required>
                </div>

                <div class="form-group form-inline required">
                    <div class="form-group ">
                        <label for="concelho-select">Concelho:</label>
                        <select id="concelho-select" class="form-control" required>
                            <option hidden disabled selected value> -- seleccione uma opção --</option>
                            <option value="BATALHA">Batalha</option>
                            <option value="LEIRIA">Leiria</option>
                            <option value="MARINHA GRANDE">Marinha Grande</option>
                            <option value="POMBAL">Pombal</option>
                            <option value="PORTO DE MOS">Porto de Mós</option>
                            <option value="outro">Outro...</option>
                        </select>
                    </div>

                    <div id="concelho-wrapper" class="form-group" style="display: none">
                        <input name="concelho" id="concelho" type="text" class="form-control">
                    </div>
                </div>

                <div class="form-group required" id="freguesia-wrapper">
                    <label for="freguesia">Freguesia:</label>
                        
                    <select id="freguesia-select" class="form-control" style="display: none">
                        <option hidden disabled selected value> -- seleccione uma opção --</option>
                        <option value="BATALHA" data-concelho="BATALHA">BATALHA</option>
                        <option value="REGUENGO DO FETAL" data-concelho="BATALHA">REGUENGO DO FETAL</option>
                        <option value="S. MAMEDE" data-concelho="BATALHA">S. MAMEDE</option>
                        <option value="GOLPILHEIRA" data-concelho="BATALHA">GOLPILHEIRA</option>
                        <option value="AMOR" data-concelho="LEIRIA">AMOR</option>
                        <option value="ARRABAL" data-concelho="LEIRIA">ARRABAL</option>
                        <option value="AZOIA" data-concelho="LEIRIA">AZOIA</option>
                        <option value="BAROSA" data-concelho="LEIRIA">BAROSA</option>
                        <option value="BARREIRA" data-concelho="LEIRIA">BARREIRA</option>
                        <option value="BOA VISTA" data-concelho="LEIRIA">BOA VISTA</option>
                        <option value="CARANGUEJEIRA" data-concelho="LEIRIA">CARANGUEJEIRA</option>
                        <option value="CARVIDE" data-concelho="LEIRIA">CARVIDE</option>
                        <option value="COIMBRÃO" data-concelho="LEIRIA">COIMBRÃO</option>
                        <option value="COLMEIAS" data-concelho="LEIRIA">COLMEIAS</option>
                        <option value="CORTES" data-concelho="LEIRIA">CORTES</option>
                        <option value="LEIRIA" data-concelho="LEIRIA">LEIRIA</option>
                        <option value="MACEIRA" data-concelho="LEIRIA">MACEIRA</option>
                        <option value="MARRAZES" data-concelho="LEIRIA">MARRAZES</option>
                        <option value="MILAGRES" data-concelho="LEIRIA">MILAGRES</option>
                        <option value="MONTE REAL" data-concelho="LEIRIA">MONTE REAL</option>
                        <option value="MONTE REDONDO" data-concelho="LEIRIA">MONTE REDONDO</option>
                        <option value="ORTIGOSA" data-concelho="LEIRIA">ORTIGOSA</option>
                        <option value="PARCEIROS" data-concelho="LEIRIA">PARCEIROS</option>
                        <option value="POUSOS" data-concelho="LEIRIA">POUSOS</option>
                        <option value="REGUEIRA DE PONTES" data-concelho="LEIRIA">REGUEIRA DE PONTES</option>
                        <option value="SANTA CATARINA DA SERRA" data-concelho="LEIRIA">SANTA CATARINA DA SERRA</option>
                        <option value="SANTA EUFEMIA" data-concelho="LEIRIA">SANTA EUFEMIA</option>
                        <option value="SOUTO DA CARPALHOSA" data-concelho="LEIRIA">SOUTO DA CARPALHOSA</option>
                        <option value="BAJOUCA" data-concelho="LEIRIA">BAJOUCA</option>
                        <option value="BIDOEIRA DE CIMA" data-concelho="LEIRIA">BIDOEIRA DE CIMA</option>
                        <option value="MEMORIA" data-concelho="LEIRIA">MEMORIA</option>
                        <option value="CARREIRA" data-concelho="LEIRIA">CARREIRA</option>
                        <option value="CHAINÇA" data-concelho="LEIRIA">CHAINÇA</option>
                        <option value="MARINHA GRANDE" data-concelho="MARINHA GRANDE">MARINHA GRANDE</option>
                        <option value="VIEIRA DE LEIRIA" data-concelho="MARINHA GRANDE">VIEIRA DE LEIRIA</option>
                        <option value="MOITA" data-concelho="MARINHA GRANDE">MOITA</option>
                        <option value="ABIUL" data-concelho="POMBAL">ABIUL</option>
                        <option value="ALBERGARIA DOS DOZE" data-concelho="POMBAL">ALBERGARIA DOS DOZE</option>
                        <option value="ALMAGREIRA" data-concelho="POMBAL">ALMAGREIRA</option>
                        <option value="CARNIDE" data-concelho="POMBAL">CARNIDE</option>
                        <option value="CARRIÇO" data-concelho="POMBAL">CARRIÇO</option>
                        <option value="LOURIÇAL" data-concelho="POMBAL">LOURIÇAL</option>
                        <option value="MATA MOURISCA" data-concelho="POMBAL">MATA MOURISCA</option>
                        <option value="PELARIGA" data-concelho="POMBAL">PELARIGA</option>
                        <option value="POMBAL" data-concelho="POMBAL">POMBAL</option>
                        <option value="REDINHA" data-concelho="POMBAL">REDINHA</option>
                        <option value="SANTIAGO DE LITEM" data-concelho="POMBAL">SANTIAGO DE LITEM</option>
                        <option value="S. SIMÃO DE LITEM" data-concelho="POMBAL">S. SIMÃO DE LITEM</option>
                        <option value="VERMOIL" data-concelho="POMBAL">VERMOIL</option>
                        <option value="VILA CÃ" data-concelho="POMBAL">VILA CÃ</option>
                        <option value="MEIRINHAS" data-concelho="POMBAL">MEIRINHAS</option>
                        <option value="GUIA" data-concelho="POMBAL">GUIA</option>
                        <option value="ILHA" data-concelho="POMBAL">ILHA</option>
                        <option value="ALCARIA" data-concelho="PORTO DE MOS">ALCARIA</option>
                        <option value="ALQUEIDÃO DA SERRA" data-concelho="PORTO DE MOS">ALQUEIDÃO DA SERRA</option>
                        <option value="ALVADOS" data-concelho="PORTO DE MOS">ALVADOS</option>
                        <option value="ARRIMAL" data-concelho="PORTO DE MOS">ARRIMAL</option>
                        <option value="CALVARIA DE CIMA" data-concelho="PORTO DE MOS">CALVARIA DE CIMA</option>
                        <option value="JUNCAL" data-concelho="PORTO DE MOS">JUNCAL</option>
                        <option value="MENDIGA" data-concelho="PORTO DE MOS">MENDIGA</option>
                        <option value="MIRA DE AIRE" data-concelho="PORTO DE MOS">MIRA DE AIRE</option>
                        <option value="PEDREIRAS" data-concelho="PORTO DE MOS">PEDREIRAS</option>
                        <option value="S. BENTO" data-concelho="PORTO DE MOS">S. BENTO</option>
                        <option value="PORTO DE MOS (S. JOÃO BAPTISTA)" data-concelho="PORTO DE MOS">PORTO DE MOS (S. JOÃO BAPTISTA)</option>
                        <option value="PORTO DE MOS (S. PEDRO)" data-concelho="PORTO DE MOS">PORTO DE MOS (S. PEDRO)</option>
                        <option value="SERRO VENTOSO" data-concelho="PORTO DE MOS">SERRO VENTOSO</option>
                    </select>
                    <input name="freguesia" id="freguesia" type="text" class="form-control">
                </div>

                <div class="form-group required">
                    <label for="localidade">Localidade:</label>
                    <input name="localidade" id="localidade" type="text" class="form-control" required>
                </div>

            </fieldset>

            <fieldset id="dados-profissionais-fieldset">
                <legend>Dados Profissionais</legend>

                <div class="form-group required">
                    <label for="situacao-perante-emprego">Situação perante emprego:</label>
                    <select name="situacao-perante-emprego" id="situacao-perante-emprego" class="form-control" required>
                        <option hidden disabled selected value> -- seleccione uma opção --</option>
                        <option value="empregado">Empregado</option>
                        <option value="desempregado">Desempregado</option>
                        <option value="reformado">Reformado</option>
                    </select>
                </div>

                <div class="form-group form-dados-prof-item required" style="display: none">
                    <label for="profissao">Profissão:</label>
                    <input name="profissao" id="profissao" type="text" class="form-control">
                </div>


                <div class="form-group custom-control custom-switch">
                    <input type="checkbox" class="custom-control-input" name="profissional_de_lar"
                           id="profissional_de_lar">
                    <label class="custom-control-label" for="profissional_de_lar">É funcionário ou utente de
                        Lar/Instituição de Apoio Social?<span class="required-here"></span></label>
                </div>

                <div id="nome-do-lar-wrapper" class="form-group required" style="display: none">
                    <label for="nome_do_lar">Nome do lar/Instituição:</label>
                    <input name="nome_do_lar" id="nome_do_lar" type="text" class="form-control">
                </div>

                <div class="form-group custom-control custom-switch form-dados-prof-item" style="display: none">
                    <input type="checkbox" class="custom-control-input" name="profissional_de_saude"
                           id="profissional_de_saude">
                    <label class="custom-control-label" for="profissional_de_saude">É profissional de saúde?<span
                            class="required-here"></span></label>
                </div>

                <div id="instituicao-de-saude-wrapper" class="form-group required" style="display: none">
                    <label for="instituicao_de_saude">Instituição de Saúde a que pertence:</label>
                    <input name="instituicao_de_saude" id="instituicao_de_saude" type="text" class="form-control">
                </div>

            </fieldset>


            <fieldset id="lista-de-contactantes-fieldset">
                <legend>Lista dos contactantes</legend>

                <div class="form-group">
                    <p><b>Um contacto é uma pessoa que esteve consigo, presencialmente, mais do que 15 minutos!</b></p>
                    <p>Aqui deve introduzir os contactos que teve desde a data indicada pela autoridade de saúde.<br>
                        A <b>Data do último contacto</b> corresponde à data em que essa pessoa esteve pela última vez
                        consigo<br>
                        É <b>muito importante</b> que preencha o <b>email</b> de cada contacto para que essa pessoa
                        possa receber a <b>Declaração de Isolamento Profilático</b> atempadamente e as
                        <b>informações sobre os procedimentos de isolamento que deve seguir!!</b><br>
                    <b>Nota: Para efeitos do rastreio de contactos, o seu nome será divulgado aos contactos que preencher aqui.</b></p>
                </div>

                <div class="row">
                    <div class="col-xl-3 d-none d-xl-block">Nome:</div>
                    <div class="col-xl-2 d-none d-xl-block">Telefone:</div>
                    <div class="col-xl-3 d-none d-xl-block">Email:</div>
                    <div class="col-xl-4 d-none d-xl-block">Data do último contacto:</div>
                </div>

                <!-- AQUI são inseridos as infos dos contactantes -->
                <div id="rastreio-de-contactos-items" class="form-group"></div>

                <div class="form-group">
                    <span id="adicionar-contacto" class="btn btn-info">Adicionar mais um contactante</span>
                </div>
            </fieldset>

            <br><br><br>
            <!-- g-recaptcha -->
            <button id="enviarform"
                    class="btn btn-primary"
                    onclick="submitForm(event)">
                Enviar Formulário
                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
            </button>
        </form>

        <div id="cena-para-add" style="display: none">
            <div class="rastreio-de-contactos-row row">
                <div class="col-xl-3 form-group required">
                    <label class="d-xl-none">Nome:</label>
                    <input aria-label="Nome completo do contacto" name="contacto_nome" type="text" class="form-control"
                           placeholder="Nome" required>
                </div>
                <div class="col-xl-2 form-group required">
                    <label class="d-xl-none">Telefone:</label>
                    <input aria-label="Telefone do contacto" name="contacto_tel" type="number" class="form-control"
                           placeholder="Telefone" required>
                </div>
                <div class="col-xl-3 form-group">
                    <label class="d-xl-none">Email:</label>
                    <input aria-label="Email do contacto" name="contacto_email" type="email" class="form-control"
                           placeholder="Email">
                </div>
                <div class="col-xl-3 form-group required">
                    <label class="d-xl-none">Data do último contacto:</label>
                    <input aria-label="Data do último contacto" name="contacto_datacontacto"
                           class="data-contacto form-control" type="date" required>
                </div>
                <div class="col-xl-1 form-group">
                    <button class="remove-patient btn btn-danger" onclick="removeContact(event)">Remover</button>
                </div>
            </div>
        </div>

    </div>
</div>

<footer><center>Programmed by Estêvão Soares dos Santos<br>Copyright (c) Estêvão Soares dos Santos - ACES Pinhal Litoral 2020-2021</center></footer>

<!-- a partir daqui não mexer -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script src="../js/config.js"></script>
<script src="../js/common.js"></script>
<script src="../js/form1.js"></script>
</body>

</html>
